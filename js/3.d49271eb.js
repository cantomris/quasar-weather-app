(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0565":function(t,e,a){"use strict";var i=a("16f0"),n=a.n(i);n.a},"16f0":function(t,e,a){},"8b24":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex column",class:t.bgMoment},[a("div",{staticClass:"col q-pt-lg q-px-md"},[a("q-input",{attrs:{placeholder:"Search",dark:"",borderless:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getWeatherBySearch(e)}},scopedSlots:t._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"my_location"},on:{click:t.getLocation}})]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"search"},on:{click:t.getWeatherBySearch},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})]},proxy:!0}]),model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t.weatherData?[a("div",{staticClass:"col text-white text-center"},[a("div",{staticClass:"text-h4 text-weight-light"},[t._v("\n        "+t._s(t.weatherData.city_name)+"\n      ")]),a("div",{staticClass:"text-h1 text-weight-thin q-my-lg relative-position"},[a("span",[t._v(" "+t._s(Math.round(t.weatherData.data[0].temp))+"Â°")]),a("span",{staticClass:"text-h3 relative-position celsius"},[t._v("C")])])]),a("div",{staticClass:"col text-h6 text-white text-center text-weight-light"},[t._v("\n      "+t._s(t.weatherData.data[0].weather.description)+"\n    ")]),a("div",{staticClass:"col text-center"},[a("img",{staticClass:"icon-weather",attrs:{src:"statics/weather-icons/"+t.weatherData.data[0].weather.icon+".png"}})])]:[a("div",{staticClass:"col column text-center text-white"},[a("div",{staticClass:"col text-h2 text-weight-thin"},[t._v("\n        quasar "),a("br"),t._v(" weather\n      ")]),a("q-btn",{staticClass:"col",attrs:{flat:""},on:{click:t.getLocation}},[a("q-icon",{attrs:{left:"",size:"3em",name:"my_location"}}),a("div",[t._v("Find My Location")])],1)],1)],a("div",{staticClass:"col skyline ",class:t.bgImg})],2)},n=[],o=(a("28a5"),a("aef6"),{name:"PageIndex",data:function(){return{weatherData:null,apiURL:"http://api.weatherbit.io/v2.0/forecast/daily",apiKey:"225a713f3a21409c916a8cace794e454",latitude:null,longitude:null,query:"",daily:[]}},computed:{bgClass:function(){if(this.weatherData)return this.weatherData.data[0].weather.icon.endsWith("n")?"bg-night":"bg-day"},bgImg:function(){if(this.weatherData){var t=new Date,e=t.getHours();return console.log(e),e>"1"&&e<"7"?"img-night":"img-day"}},bgMoment:function(){if(this.weatherData){var t=new Date,e=t.getHours();return e>"20"||e<"7"?"bg-night":"bg-day"}}},methods:{getLocation:function(){var t=this;this.$q.loading.show(),this.$q.platform.is.electron?this.$axios.get("https://freegeoip.app/json/").then((function(e){t.latitude=e.data.latitude,t.longitude=e.data.longitude,t.getWeatherByCoords()})):navigator.geolocation.getCurrentPosition((function(e){t.latitude=e.coords.latitude,t.longitude=e.coords.longitude,console.log(t.latitude,t.longitude),t.getWeatherByCoords()}))},getWeatherByCoords:function(){var t=this;this.$q.loading.show(),this.$axios("".concat(this.apiURL,"?lat=").concat(this.latitude,"&lon=").concat(this.longitude,"&key=").concat(this.apiKey,"&lang=tr")).then((function(e){console.log(e);var a=e.data.data[0].datetime.split("-").reverse().slice(0,2);console.log(a[0]),t.weatherData=e.data,t.$q.loading.hide()}))},getWeatherBySearch:function(){var t=this;this.$q.loading.show(),this.$axios("".concat(this.apiURL,"?city=").concat(this.query,"&key=").concat(this.apiKey,"&lang=tr")).then((function(e){t.weatherData=e.data,t.$q.loading.hide()}))},init:function(){var t=this;this.$axios("".concat(this.apiURL,"?lat=").concat(this.latitude,"&lon=").concat(this.longitude,"&key=").concat(this.apiKey,"&lang=tr")).then((function(e){console.log(e),t.weatherData=e.data,t.$q.loading.hide()}))}}}),s=o,c=(a("0565"),a("2877")),l=a("9989"),r=a("27f9"),h=a("0016"),u=a("9c40"),d=a("eebe"),g=a.n(d),p=Object(c["a"])(s,i,n,!1,null,null,null);e["default"]=p.exports;g()(p,"components",{QPage:l["a"],QInput:r["a"],QIcon:h["a"],QBtn:u["a"]})}}]);